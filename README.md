# Webhook Event Processing Solution

## Overview
This project provides a local solution to coordinate multiple services and emulate how events generated by webhook providers should be processed to create reports that add value to the organization.

## Project Components

### Event Generator
A Python application that simulates the behavior of different webhook providers by infinitely emitting events in JSON format. This script was provided as part of the challenge and was modified to adapt it to the proposed solution. Initially, this app used WebSockets to send JSON events, but it was modified to use HTTP requests targeting an endpoint provided by an API Gateway.

### Infrastructure
The infrastructure includes a LocalStack image provisioned through a custom script. The script sets up an API Gateway integrated with an SQS queue. The Python application sends events to the URLs exposed by the API Gateway, which in turn forwards them to the SQS queue.

### MS Event Receiver
This microservice, developed with Spring WebFlux, reads messages from the SQS queue, applies transformations to extract important information, and saves the processed data in an RDS database.

### MS Reports
Another microservice developed with Spring WebFlux that exposes a REST API to generate the requested reports.

### Database
An RDS PostgreSQL database used to persist captured and processed event data.

### Orchestration
The entire flow is orchestrated using a `docker-compose` file.

## Execution Instructions

To execute the project, follow these recommendations:

1. **Prevent control code conflicts:**
   Before cloning the project, run the following command:
   ```bash
   git config --global core.autocrlf false
   ```

2. **Build the microservices:**
   - Navigate to the `ms_reports` folder and execute:
     ```bash
     gradle clean build
     ```
   - Navigate to the `ms_event_receiver` folder and execute:
     ```bash
     gradle clean build
     ```

3. **Run the services:**
   - Navigate to the `compose` folder and execute:
     ```bash
     docker compose build
     docker compose up
     ```

   This will start the project execution.

4. **Generate reports:**
   A collection of API endpoints is provided to facilitate report generation.

## Additional Notes
Ensure all dependencies are properly installed and configured before starting the project. Refer to the documentation for specific details about API usage and data transformations.

